import{d as y,r as u,o as m,c as p,a as s,w as d,v as n,n as x,t as c,b as g,e as f,i as k}from"./index-D4qsMShy.js";const w={class:"max-w-xl mx-auto p-4"},_={class:"grid grid-cols-2 gap-4"},V={class:"space-y-2"},q={class:"space-y-2"},U={class:"space-y-2"},C={class:"space-y-2"},B={class:"space-y-2"},h={class:"flex space-x-4"},D=["disabled"],E=["disabled"],P=y({__name:"Printer",setup(M){const t=u({category:0,color:0,name:"",thickness:"",price:""}),o=u(!1),a=u(""),i=u("success"),v=async()=>{o.value=!0,a.value="";try{const{data:r}=await k.post("/api/barcode/print",t.value);i.value=r.success?"success":"error",a.value=r.message}catch(r){i.value="error",a.value="系统错误，请稍后重试",console.error("Error:",r)}finally{o.value=!1}},b=()=>{t.value={category:0,color:0,name:"",thickness:"",price:""},a.value=""};return(r,e)=>(m(),p("div",w,[s("form",{onSubmit:f(v,["prevent"]),class:"space-y-4"},[s("div",_,[s("div",V,[e[5]||(e[5]=s("label",{class:"block text-sm font-medium text-gray-700"},"种类 (0-20)",-1)),d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.category=l),type:"number",min:"0",max:"20",required:"",class:"w-full px-3 py-2 border rounded-md"},null,512),[[n,t.value.category,void 0,{number:!0}]])]),s("div",q,[e[6]||(e[6]=s("label",{class:"block text-sm font-medium text-gray-700"},"颜色编码 (0-10)",-1)),d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.color=l),type:"number",min:"0",max:"10",required:"",class:"w-full px-3 py-2 border rounded-md"},null,512),[[n,t.value.color,void 0,{number:!0}]])]),s("div",U,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-gray-700"},"名称简写",-1)),d(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.name=l),type:"text",required:"",class:"w-full px-3 py-2 border rounded-md"},null,512),[[n,t.value.name]])]),s("div",C,[e[8]||(e[8]=s("label",{class:"block text-sm font-medium text-gray-700"},"厚度",-1)),d(s("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.thickness=l),type:"text",required:"",class:"w-full px-3 py-2 border rounded-md"},null,512),[[n,t.value.thickness]])]),s("div",B,[e[9]||(e[9]=s("label",{class:"block text-sm font-medium text-gray-700"},"价格",-1)),d(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.price=l),type:"text",required:"",class:"w-full px-3 py-2 border rounded-md"},null,512),[[n,t.value.price]])])]),a.value?(m(),p("div",{key:0,class:x(["p-3 rounded-md mt-4",i.value==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},c(a.value),3)):g("",!0),s("div",h,[s("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",disabled:o.value},c(o.value?"打印中...":"打印条形码"),9,D),s("button",{type:"button",onClick:b,class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",disabled:o.value}," 重置 ",8,E)])],32)]))}});export{P as default};
